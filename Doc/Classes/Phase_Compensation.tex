% generated by Plantuml 1.2024.4       
\definecolor{plantucolor0000}{RGB}{241,241,241}
\definecolor{plantucolor0001}{RGB}{24,24,24}
\definecolor{plantucolor0002}{RGB}{173,209,178}
\definecolor{plantucolor0003}{RGB}{0,0,0}
\definecolor{plantucolor0004}{RGB}{200,41,48}
\definecolor{plantucolor0005}{RGB}{3,128,72}
\definecolor{plantucolor0006}{RGB}{132,190,132}
\scalebox{0.6188}{
\begin{tikzpicture}[yscale=-1
,pstyle0/.style={color=plantucolor0001,fill=plantucolor0000,line width=0.5pt}
,pstyle1/.style={color=plantucolor0001,fill=plantucolor0002,line width=1.0pt}
,pstyle2/.style={color=plantucolor0001,line width=0.5pt}
,pstyle3/.style={color=plantucolor0004,line width=1.0pt}
,pstyle5/.style={color=plantucolor0005,fill=plantucolor0006,line width=1.0pt}
,pstyle6/.style={color=plantucolor0001,line width=1.0pt}
,pstyle7/.style={color=plantucolor0001,fill=plantucolor0001,line width=1.0pt}
]
\draw[pstyle0] (1476.5pt,216pt) arc (180:270:5pt) -- (1481.5pt,211pt) -- (2128.7004pt,211pt) arc (270:360:5pt) -- (2133.7004pt,216pt) -- (2133.7004pt,435.7109pt) arc (0:90:5pt) -- (2128.7004pt,440.7109pt) -- (1481.5pt,440.7109pt) arc (90:180:5pt) -- (1476.5pt,435.7109pt) -- cycle;
\draw[pstyle1] (1640.6884pt,230.5508pt) ellipse (14pt and 14pt);
\node at (1640.6884pt,230.5508pt)[]{\textbf{\Large C}};
\node at (1665.6884pt,216pt)[below right,color=black]{Phase\_Compensation};
\draw[pstyle2] (1477.5pt,250.1016pt) -- (2132.7004pt,250.1016pt);
\draw[pstyle3] (1484.5pt,267.1523pt) rectangle (1490.5pt,273.1523pt);
\node at (1499.5pt,254.1016pt)[below right,color=black]{Parameters: struct};
\draw[color=plantucolor0005,line width=1.0pt] (1487.5pt,299.2539pt) ellipse (3pt and 3pt);
\node at (1499.5pt,283.2031pt)[below right,color=black]{Est: struct};
\draw[pstyle2] (1477.5pt,316.3047pt) -- (2132.7004pt,316.3047pt);
\draw[pstyle5] (1487.5pt,336.3555pt) ellipse (3pt and 3pt);
\node at (1499.5pt,320.3047pt)[below right,color=black]{Phase\_Compensation(Parameters, model)};
\draw[pstyle5] (1487.5pt,365.457pt) ellipse (3pt and 3pt);
\node at (1499.5pt,349.4063pt)[below right,color=black]{equalizePTRS()};
\draw[pstyle5] (1487.5pt,394.5586pt) ellipse (3pt and 3pt);
\node at (1499.5pt,378.5078pt)[below right,color=black]{estimateResidualChannel()};
\draw[pstyle5] (1487.5pt,423.6602pt) ellipse (3pt and 3pt);
\node at (1499.5pt,407.6094pt)[below right,color=black]{estimatePhaseCompensationAngle()};
\draw[pstyle0] (2169pt,187pt) arc (180:270:5pt) -- (2174pt,182pt) -- (2732.3817pt,182pt) arc (270:360:5pt) -- (2737.3817pt,187pt) -- (2737.3817pt,464.9141pt) arc (0:90:5pt) -- (2732.3817pt,469.9141pt) -- (2174pt,469.9141pt) arc (90:180:5pt) -- (2169pt,464.9141pt) -- cycle;
\draw[pstyle1] (2360.9719pt,201.5508pt) ellipse (14pt and 14pt);
\node at (2360.9719pt,201.5508pt)[]{\textbf{\Large C}};
\node at (2385.9719pt,187pt)[below right,color=black]{Parameters};
\draw[pstyle2] (2170pt,221.1016pt) -- (2736.3817pt,221.1016pt);
\draw[pstyle3] (2177pt,238.1523pt) rectangle (2183pt,244.1523pt);
\node at (2192pt,225.1016pt)[below right,color=black]{portadora: nrCarrierConfig};
\draw[pstyle3] (2177pt,267.2539pt) rectangle (2183pt,273.2539pt);
\node at (2192pt,254.2031pt)[below right,color=black]{pdsch: nrPDSCHConfig};
\draw[pstyle3] (2177pt,296.3555pt) rectangle (2183pt,302.3555pt);
\node at (2192pt,283.3047pt)[below right,color=black]{Indices\_ptrs: double[]};
\draw[pstyle3] (2177pt,325.457pt) rectangle (2183pt,331.457pt);
\node at (2192pt,312.4063pt)[below right,color=black]{Grilla\_Subframe\_rx: double[]};
\draw[pstyle3] (2177pt,354.5586pt) rectangle (2183pt,360.5586pt);
\node at (2192pt,341.5078pt)[below right,color=black]{noiseEst: double[]};
\draw[pstyle3] (2177pt,383.6602pt) rectangle (2183pt,389.6602pt);
\node at (2192pt,370.6094pt)[below right,color=black]{Informacion\_Indices\_PDSCH: struct};
\draw[pstyle3] (2177pt,412.7617pt) rectangle (2183pt,418.7617pt);
\node at (2192pt,399.7109pt)[below right,color=black]{Simbolos\_ptrs: double[]};
\draw[pstyle3] (2177pt,441.8633pt) rectangle (2183pt,447.8633pt);
\node at (2192pt,428.8125pt)[below right,color=black]{Indices\_Pdsch: double[]};
\draw[pstyle2] (2170pt,461.9141pt) -- (2736.3817pt,461.9141pt);
\draw[pstyle0] (589pt,566pt) arc (180:270:5pt) -- (594pt,561pt) -- (1841.519pt,561pt) arc (270:360:5pt) -- (1846.519pt,566pt) -- (1846.519pt,640.2031pt) arc (0:90:5pt) -- (1841.519pt,645.2031pt) -- (594pt,645.2031pt) arc (90:180:5pt) -- (589pt,640.2031pt) -- cycle;
\draw[pstyle1] (1093.5211pt,580.5508pt) ellipse (14pt and 14pt);
\node at (1093.5211pt,580.5508pt)[]{\textbf{\Large C}};
\node at (1118.5211pt,566pt)[below right,color=black]{nrResourceGrid};
\draw[pstyle2] (590pt,600.1016pt) -- (1845.519pt,600.1016pt);
\draw[pstyle2] (590pt,608.1016pt) -- (1845.519pt,608.1016pt);
\draw[pstyle5] (600pt,628.1523pt) ellipse (3pt and 3pt);
\node at (612pt,612.1016pt)[below right,color=black]{nrResourceGrid(Parameters.portadora, Parameters.pdsch.NumLayers): tempGrid};
\draw[pstyle0] (707pt,12pt) arc (180:270:5pt) -- (712pt,7pt) -- (2897.8432pt,7pt) arc (270:360:5pt) -- (2902.8432pt,12pt) -- (2902.8432pt,86.2031pt) arc (0:90:5pt) -- (2897.8432pt,91.2031pt) -- (712pt,91.2031pt) arc (90:180:5pt) -- (707pt,86.2031pt) -- cycle;
\draw[pstyle1] (1650.6671pt,26.5508pt) ellipse (14pt and 14pt);
\node at (1650.6671pt,26.5508pt)[]{\textbf{\Large C}};
\node at (1675.6671pt,12pt)[below right,color=black]{nrExtractResources};
\draw[pstyle2] (708pt,46.1016pt) -- (2901.8432pt,46.1016pt);
\draw[pstyle2] (708pt,54.1016pt) -- (2901.8432pt,54.1016pt);
\draw[pstyle5] (718pt,74.1523pt) ellipse (3pt and 3pt);
\node at (730pt,58.1016pt)[below right,color=black]{nrExtractResources(Parameters.Indices\_ptrs, Parameters.Grilla\_Subframe\_rx, Grid\_Estimated, tempGrid): [ptrsRx, ptrsHest, ptrsLayerIndices]};
\draw[pstyle0] (1882.5pt,566pt) arc (180:270:5pt) -- (1887.5pt,561pt) -- (2896.3563pt,561pt) arc (270:360:5pt) -- (2901.3563pt,566pt) -- (2901.3563pt,640.2031pt) arc (0:90:5pt) -- (2896.3563pt,645.2031pt) -- (1887.5pt,645.2031pt) arc (90:180:5pt) -- (1882.5pt,640.2031pt) -- cycle;
\draw[pstyle1] (2254.0549pt,580.5508pt) ellipse (14pt and 14pt);
\node at (2254.0549pt,580.5508pt)[]{\textbf{\Large C}};
\node at (2279.0549pt,566pt)[below right,color=black]{nrEqualizeMMSE};
\draw[pstyle2] (1883.5pt,600.1016pt) -- (2900.3563pt,600.1016pt);
\draw[pstyle2] (1883.5pt,608.1016pt) -- (2900.3563pt,608.1016pt);
\draw[pstyle5] (1893.5pt,628.1523pt) ellipse (3pt and 3pt);
\node at (1905.5pt,612.1016pt)[below right,color=black]{nrEqualizeMMSE(ptrsRx, ptrsHest, Parameters.noiseEst): ptrsEq};
\draw[pstyle0] (7pt,289pt) arc (180:270:5pt) -- (12pt,284pt) -- (1361.6139pt,284pt) arc (270:360:5pt) -- (1366.6139pt,289pt) -- (1366.6139pt,363.2031pt) arc (0:90:5pt) -- (1361.6139pt,368.2031pt) -- (12pt,368.2031pt) arc (90:180:5pt) -- (7pt,363.2031pt) -- cycle;
\draw[pstyle1] (536.2557pt,303.5508pt) ellipse (14pt and 14pt);
\node at (536.2557pt,303.5508pt)[]{\textbf{\Large C}};
\node at (561.2557pt,289pt)[below right,color=black]{nrChannelEstimate};
\draw[pstyle2] (8pt,323.1016pt) -- (1365.6139pt,323.1016pt);
\draw[pstyle2] (8pt,331.1016pt) -- (1365.6139pt,331.1016pt);
\draw[pstyle5] (18pt,351.1523pt) ellipse (3pt and 3pt);
\node at (30pt,335.1016pt)[below right,color=black]{nrChannelEstimate(tempGrid, Parameters.Indices\_ptrs, Parameters.Simbolos\_ptrs): cpe};
\draw[pstyle6] (2133.75pt,326pt) ..controls (2145.49pt,326pt) and (2157.23pt,326pt) .. (2168.98pt,326pt);
\draw[pstyle6] (1561.58pt,441.04pt) ..controls (1470.81pt,483.56pt) and (1378.8734pt,526.6348pt) .. (1311.0534pt,558.4048pt);
\draw[pstyle7] (1305.62pt,560.95pt) -- (1315.4669pt,560.7544pt) -- (1310.1478pt,558.829pt) -- (1312.0733pt,553.5099pt) -- (1305.62pt,560.95pt) -- cycle;
\node at (1426pt,501pt)[below right,color=black]{Uses};
\draw[pstyle6] (1805pt,97.17pt) ..controls (1805pt,128.94pt) and (1805pt,168.48pt) .. (1805pt,210.96pt);
\draw[pstyle7] (1805pt,91.17pt) -- (1801pt,100.17pt) -- (1805pt,96.17pt) -- (1809pt,100.17pt) -- (1805pt,91.17pt) -- cycle;
\node at (1806pt,122pt)[below right,color=black]{Uses};
\draw[pstyle6] (2048.42pt,441.04pt) ..controls (2139.19pt,483.56pt) and (2231.1266pt,526.6348pt) .. (2298.9466pt,558.4048pt);
\draw[pstyle7] (2304.38pt,560.95pt) -- (2297.9267pt,553.5099pt) -- (2299.8522pt,558.829pt) -- (2294.5331pt,560.7544pt) -- (2304.38pt,560.95pt) -- cycle;
\node at (2235pt,501pt)[below right,color=black]{Uses};
\draw[pstyle6] (1373.15pt,326pt) ..controls (1410.59pt,326pt) and (1441.27pt,326pt) .. (1476.47pt,326pt);
\draw[pstyle7] (1367.15pt,326pt) -- (1376.15pt,330pt) -- (1372.15pt,326pt) -- (1376.15pt,322pt) -- (1367.15pt,326pt) -- cycle;
\node at (1385.25pt,293pt)[below right,color=black]{Uses};
\end{tikzpicture}
}
